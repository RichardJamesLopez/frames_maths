"use strict";(()=>{var e={};e.id=553,e.ids=[553],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6005:e=>{e.exports=require("node:crypto")},71321:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>tx,originalPathname:()=>tP,patchFetch:()=>t$,requestAsyncStorage:()=>tm,routeModule:()=>tb,serverHooks:()=>tv,staticGenerationAsyncStorage:()=>tw,staticGenerationBailout:()=>tE});var i={};r.r(i),r.d(i,{POST:()=>tg});var n=r(94729),s=r(623),o=r(83979),a=r(26087),u=r(69755),l=r(45426);class h extends l.kb{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,u.vp)(e);let r=(0,l.O0)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,n=new Uint8Array(i);n.set(r.length>i?e.create().update(r).digest():r);for(let e=0;e<n.length;e++)n[e]^=54;this.iHash.update(n),this.oHash=e.create();for(let e=0;e<n.length;e++)n[e]^=106;this.oHash.update(n),n.fill(0)}update(e){return(0,u.Gg)(this),this.iHash.update(e),this}digestInto(e){(0,u.Gg)(this),(0,u.aI)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:i,destroyed:n,blockLen:s,outputLen:o}=this;return e.finished=i,e.destroyed=n,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let c=(e,t,r)=>new h(e,t).update(r).digest();c.create=(e,t)=>new h(e,t);var d=r(92323);let p=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),f=Uint8Array.from({length:16},(e,t)=>t),y=f.map(e=>(9*e+5)%16),g=[f],b=[y];for(let e=0;e<4;e++)for(let t of[g,b])t.push(t[e].map(e=>p[e]));let m=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),w=g.map((e,t)=>e.map(e=>m[t][e])),v=b.map((e,t)=>e.map(e=>m[t][e])),x=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),E=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),P=(e,t)=>e<<t|e>>>32-t;function $(e,t,r,i){return 0===e?t^r^i:1===e?t&r|~t&i:2===e?(t|~r)^i:3===e?t&i|r&~i:t^(r|~i)}let A=new Uint32Array(16);class I extends d.N{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:t,h2:r,h3:i,h4:n}=this;return[e,t,r,i,n]}set(e,t,r,i,n){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|i,this.h4=0|n}process(e,t){for(let r=0;r<16;r++,t+=4)A[r]=e.getUint32(t,!0);let r=0|this.h0,i=r,n=0|this.h1,s=n,o=0|this.h2,a=o,u=0|this.h3,l=u,h=0|this.h4,c=h;for(let e=0;e<5;e++){let t=4-e,d=x[e],p=E[e],f=g[e],y=b[e],m=w[e],I=v[e];for(let t=0;t<16;t++){let i=P(r+$(e,n,o,u)+A[f[t]]+d,m[t])+h|0;r=h,h=u,u=0|P(o,10),o=n,n=i}for(let e=0;e<16;e++){let r=P(i+$(t,s,a,l)+A[y[e]]+p,I[e])+c|0;i=c,c=l,l=0|P(a,10),a=s,s=r}}this.set(this.h1+o+l|0,this.h2+u+c|0,this.h3+h+i|0,this.h4+r+s|0,this.h0+n+a|0)}roundClean(){A.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}let O=(0,l.hE)(()=>new I),U=(e,t,r)=>e&t^~e&r,K=(e,t,r)=>e&t^e&r^t&r,j=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),z=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),R=new Uint32Array(64);class C extends d.N{constructor(){super(64,32,8,!1),this.A=0|z[0],this.B=0|z[1],this.C=0|z[2],this.D=0|z[3],this.E=0|z[4],this.F=0|z[5],this.G=0|z[6],this.H=0|z[7]}get(){let{A:e,B:t,C:r,D:i,E:n,F:s,G:o,H:a}=this;return[e,t,r,i,n,s,o,a]}set(e,t,r,i,n,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)R[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=R[e-15],r=R[e-2],i=(0,l.np)(t,7)^(0,l.np)(t,18)^t>>>3,n=(0,l.np)(r,17)^(0,l.np)(r,19)^r>>>10;R[e]=n+R[e-7]+i+R[e-16]|0}let{A:r,B:i,C:n,D:s,E:o,F:a,G:u,H:h}=this;for(let e=0;e<64;e++){let t=h+((0,l.np)(o,6)^(0,l.np)(o,11)^(0,l.np)(o,25))+U(o,a,u)+j[e]+R[e]|0,c=((0,l.np)(r,2)^(0,l.np)(r,13)^(0,l.np)(r,22))+K(r,i,n)|0;h=u,u=a,a=o,o=s+t|0,s=n,n=i,i=r,r=t+c|0}r=r+this.A|0,i=i+this.B|0,n=n+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(r,i,n,s,o,a,u,h)}roundClean(){R.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let S=(0,l.hE)(()=>new C);var T=r(98947),L=r(73882),M=r(56777);function k(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function B(...e){let t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function F(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw Error("alphabet.encode input should be an array of numbers");return t.map(t=>{if(t<0||t>=e.length)throw Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]})},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw Error("alphabet.decode input should be array of strings");return t.map(t=>{if("string"!=typeof t)throw Error(`alphabet.decode: not string element=${t}`);let r=e.indexOf(t);if(-1===r)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return r})}}}function H(e=""){if("string"!=typeof e)throw Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw Error("join.decode input should be string");return t.split(e)}}}function D(e,t,r){if(t<2)throw Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw Error("convertRadix: data should be array");if(!e.length)return[];let i=0,n=[],s=Array.from(e);for(s.forEach(e=>{if(e<0||e>=t)throw Error(`Wrong integer: ${e}`)});;){let e=0,o=!0;for(let n=i;n<s.length;n++){let a=s[n],u=t*e+a;if(!Number.isSafeInteger(u)||t*e/t!==e||u-a!=t*e)throw Error("convertRadix: carry overflow");e=u%r;let l=Math.floor(u/r);if(s[n]=l,!Number.isSafeInteger(l)||l*r+e!==u)throw Error("convertRadix: carry overflow");o&&(l?o=!1:i=n)}if(n.push(e),o)break}for(let t=0;t<e.length-1&&0===e[t];t++)n.push(0);return n.reverse()}let N=(e,t)=>t?N(t,e%t):e,V=B(function(e){return{encode:t=>{if(!k(t))throw Error("radix.encode input should be Uint8Array");return D(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw Error("radix.decode input should be array of numbers");return Uint8Array.from(D(t,e,256))}}}(58),F("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),H("")),G=L.secp256k1.ProjectivePoint,_=B(function(e,t){if("function"!=typeof t)throw Error("checksum fn should be function");return{encode(r){if(!k(r))throw Error("checksum.encode: input should be Uint8Array");let i=t(r).slice(0,e),n=new Uint8Array(r.length+e);return n.set(r),n.set(i,r.length),n},decode(r){if(!k(r))throw Error("checksum.decode: input should be Uint8Array");let i=r.slice(0,-e),n=t(i).slice(0,e),s=r.slice(-e);for(let t=0;t<e;t++)if(n[t]!==s[t])throw Error("Invalid checksum");return i}}}(4,e=>S(S(e))),V);function q(e){return BigInt(`0x${(0,l.ci)(e)}`)}let W=(0,l.iY)("Bitcoin seed"),Z={private:76066276,public:76067358},J=e=>O(S(e)),X=e=>(0,l.GL)(e).getUint32(0,!1),Q=e=>{if(!Number.isSafeInteger(e)||e<0||e>4294967296-1)throw Error(`Invalid number=${e}. Should be from 0 to 2 ** 32 - 1`);let t=new Uint8Array(4);return(0,l.GL)(t).setUint32(0,e,!1),t};class Y{get fingerprint(){if(!this.pubHash)throw Error("No publicKey set!");return X(this.pubHash)}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){let e=this.privateKey;if(!e)throw Error("No private key");return _.encode(this.serialize(this.versions.private,(0,l.eV)(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw Error("No public key");return _.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,t=Z){if((0,u.aI)(e),8*e.length<128||8*e.length>512)throw Error(`HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`);let r=c(T.o,W,e);return new Y({versions:t,chainCode:r.slice(32),privateKey:r.slice(0,32)})}static fromExtendedKey(e,t=Z){let r=_.decode(e),i=(0,l.GL)(r),n=i.getUint32(0,!1),s={versions:t,depth:r[4],parentFingerprint:i.getUint32(5,!1),index:i.getUint32(9,!1),chainCode:r.slice(13,45)},o=r.slice(45),a=0===o[0];if(n!==t[a?"private":"public"])throw Error("Version mismatch");return new Y(a?{...s,privateKey:o.slice(1)}:{...s,publicKey:o})}static fromJSON(e){return Y.fromExtendedKey(e.xpriv)}constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||"object"!=typeof e)throw Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||Z,this.depth=e.depth||0,this.chainCode=e.chainCode,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){var t;if(!L.secp256k1.utils.isValidPrivateKey(e.privateKey))throw Error("Invalid private key");this.privKey="bigint"==typeof e.privateKey?e.privateKey:q(e.privateKey),this.privKeyBytes=(t=this.privKey,(0,l.nr)(t.toString(16).padStart(64,"0"))),this.pubKey=L.secp256k1.getPublicKey(e.privateKey,!0)}else if(e.publicKey)this.pubKey=G.fromHex(e.publicKey).toRawBytes(!0);else throw Error("HDKey: no public or private key provided");this.pubHash=J(this.pubKey)}derive(e){if(!/^[mM]'?/.test(e))throw Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;let t=e.replace(/^[mM]'?\//,"").split("/"),r=this;for(let e of t){let t=/^(\d+)('?)$/.exec(e),i=t&&t[1];if(!t||3!==t.length||"string"!=typeof i)throw Error(`Invalid child index: ${e}`);let n=+i;if(!Number.isSafeInteger(n)||n>=2147483648)throw Error("Invalid index");"'"===t[2]&&(n+=2147483648),r=r.deriveChild(n)}return r}deriveChild(e){if(!this.pubKey||!this.chainCode)throw Error("No publicKey or chainCode set");let t=Q(e);if(e>=2147483648){let e=this.privateKey;if(!e)throw Error("Could not derive hardened child key");t=(0,l.eV)(new Uint8Array([0]),e,t)}else t=(0,l.eV)(this.pubKey,t);let r=c(T.o,this.chainCode,t),i=q(r.slice(0,32)),n=r.slice(32);if(!L.secp256k1.utils.isValidPrivateKey(i))throw Error("Tweak bigger than curve order");let s={versions:this.versions,chainCode:n,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){let e=(0,M.wQ)(this.privKey+i,L.secp256k1.CURVE.n);if(!L.secp256k1.utils.isValidPrivateKey(e))throw Error("The tweak was out of range or the resulted private key is invalid");s.privateKey=e}else{let e=G.fromHex(this.pubKey).add(G.fromPrivateKey(i));if(e.equals(G.ZERO))throw Error("The tweak was equal to negative P, which made the result key invalid");s.publicKey=e.toRawBytes(!0)}return new Y(s)}catch(t){return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw Error("No privateKey set!");return(0,u.aI)(e,32),L.secp256k1.sign(e,this.privKey).toCompactRawBytes()}verify(e,t){let r;if((0,u.aI)(e,32),(0,u.aI)(t,64),!this.publicKey)throw Error("No publicKey set!");try{r=L.secp256k1.Signature.fromCompact(t)}catch(e){return!1}return L.secp256k1.verify(r,e,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,t){if(!this.chainCode)throw Error("No chainCode set");return(0,u.aI)(t,33),(0,l.eV)(Q(e),new Uint8Array([this.depth]),Q(this.parentFingerprint),Q(this.index),this.chainCode,t)}}function ee(e){if("string"!=typeof e)throw TypeError(`Invalid mnemonic type: ${typeof e}`);return e.normalize("NFKD")}let et=e=>ee(`mnemonic${e}`),er=()=>"viem@2.7.8";class ei extends Error{constructor(e,t={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:er()});let r=t.cause instanceof ei?t.cause.details:t.cause?.message?t.cause.message:t.details,i=t.cause instanceof ei&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: https://viem.sh${i}${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join("\n"),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t?e(t.cause,r):r?null:t}(this,e)}}class en extends ei{constructor({max:e,min:t,signed:r,size:i,value:n}){super(`Number "${n}" is not in safe ${i?`${8*i}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class es extends ei{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}class eo extends ei{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class ea extends ei{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function eu(e,{dir:t,size:r=32}={}){return"string"==typeof e?el(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new ea({size:e.length,targetSize:r,type:"bytes"});let i=new Uint8Array(r);for(let n=0;n<r;n++){let s="right"===t;i[s?n:r-n-1]=e[s?n:e.length-n-1]}return i}(e,{dir:t,size:r})}function el(e,{dir:t,size:r=32}={}){if(null===r)return e;let i=e.replace("0x","");if(i.length>2*r)throw new ea({size:Math.ceil(i.length/2),targetSize:r,type:"hex"});return`0x${i["right"===t?"padEnd":"padStart"](2*r,"0")}`}function eh(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}function ec(e){return eh(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function ed(e,{size:t}){if(ec(e)>t)throw new es({givenSize:ec(e),maxSize:t})}function ep(e,t={}){let{signed:r}=t;t.size&&ed(e,{size:t.size});let i=BigInt(e);if(!r)return i;let n=(e.length-2)/2;return i<=(1n<<8n*BigInt(n)-1n)-1n?i:i-BigInt(`0x${"f".padStart(2*n,"f")}`)-1n}let ef=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ey(e,t={}){return"number"==typeof e||"bigint"==typeof e?em(e,t):"string"==typeof e?ev(e,t):"boolean"==typeof e?eg(e,t):eb(e,t)}function eg(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?(ed(r,{size:t.size}),eu(r,{size:t.size})):r}function eb(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=ef[e[t]];let i=`0x${r}`;return"number"==typeof t.size?(ed(i,{size:t.size}),eu(i,{dir:"right",size:t.size})):i}function em(e,t={}){let r;let{signed:i,size:n}=t,s=BigInt(e);n?r=i?(1n<<8n*BigInt(n)-1n)-1n:2n**(8n*BigInt(n))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let o="bigint"==typeof r&&i?-r-1n:0;if(r&&s>r||s<o){let t="bigint"==typeof e?"n":"";throw new en({max:r?`${r}${t}`:void 0,min:`${o}${t}`,signed:i,size:n,value:`${e}${t}`})}let a=`0x${(i&&s<0?(1n<<BigInt(8*n))+BigInt(s):s).toString(16)}`;return n?eu(a,{size:n}):a}let ew=new TextEncoder;function ev(e,t={}){return eb(ew.encode(e),t)}class ex extends ei{constructor({address:e}){super(`Address "${e}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}let eE=/^0x[a-fA-F0-9]{40}$/;function eP(e){return eE.test(e)}let e$=new TextEncoder;function eA(e,t={}){return"number"==typeof e||"bigint"==typeof e?eU(em(e,t)):"boolean"==typeof e?function(e,t={}){let r=new Uint8Array(1);return(r[0]=Number(e),"number"==typeof t.size)?(ed(r,{size:t.size}),eu(r,{size:t.size})):r}(e,t):eh(e)?eU(e,t):eK(e,t)}let eI={zero:48,nine:57,A:65,F:70,a:97,f:102};function eO(e){return e>=eI.zero&&e<=eI.nine?e-eI.zero:e>=eI.A&&e<=eI.F?e-(eI.A-10):e>=eI.a&&e<=eI.f?e-(eI.a-10):void 0}function eU(e,t={}){let r=e;t.size&&(ed(r,{size:t.size}),r=eu(r,{dir:"right",size:t.size}));let i=r.slice(2);i.length%2&&(i=`0${i}`);let n=i.length/2,s=new Uint8Array(n);for(let e=0,t=0;e<n;e++){let r=eO(i.charCodeAt(t++)),n=eO(i.charCodeAt(t++));if(void 0===r||void 0===n)throw new ei(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);s[e]=16*r+n}return s}function eK(e,t={}){let r=e$.encode(e);return"number"==typeof t.size?(ed(r,{size:t.size}),eu(r,{dir:"right",size:t.size})):r}var ej=r(94597);function ez(e,t){let r=(0,ej.fr)(eh(e,{strict:!1})?eA(e):e);return"bytes"===(t||"hex")?r:ey(r)}function eR(e){return"string"==typeof e[0]?eC(e):function(e){let t=0;for(let r of e)t+=r.length;let r=new Uint8Array(t),i=0;for(let t of e)r.set(t,i),i+=t.length;return r}(e)}function eC(e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}function eS({r:e,s:t,v:r}){return`0x${new L.secp256k1.Signature(ep(e),ep(t)).toCompactHex()}${ey(r).slice(2)}`}async function eT({hash:e,privateKey:t}){let{r,s:i,recovery:n}=L.secp256k1.sign(e.slice(2),t.slice(2));return{r:ey(r),s:ey(i),v:n?28n:27n}}async function eL({message:e,privateKey:t}){return eS(await eT({hash:function(e,t){let r="string"==typeof e?eK(e):e.raw instanceof Uint8Array?e.raw:eA(e.raw);return ez(eR([eK(`Ethereum Signed Message:
${r.length}`),r]),void 0)}(e),privateKey:t}))}class eM extends ei{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class ek extends ei{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",function(e){let t=Object.entries(e).map(([e,t])=>void 0===t||!1===t?null:[e,t]).filter(Boolean),r=t.reduce((e,[t])=>Math.max(e,t.length),0);return t.map(([e,t])=>`  ${`${e}:`.padEnd(r+1)}  ${t}`).join("\n")}(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class eB extends ei{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}function eF(e,{dir:t="left"}={}){let r="string"==typeof e?e.replace("0x",""):e,i=0;for(let e=0;e<r.length-1&&"0"===r["left"===t?e:r.length-e-1].toString();e++)i++;return(r="left"===t?r.slice(i):r.slice(0,r.length-i),"string"==typeof e)?(1===r.length&&"right"===t&&(r=`${r}0`),`0x${r.length%2==1?`0${r}`:r}`):r}class eH extends ei{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class eD extends ei{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class eN extends ei{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}let eV={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new eN({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new eD({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new eH({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new eH({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===1/0)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function eG(e,t="hex"){let r=function e(t){return Array.isArray(t)?function(e){let t=e.reduce((e,t)=>e+t.length,0),r=e_(t);return{length:t<=55?1+t:1+r+t,encode(i){for(let{encode:n}of(t<=55?i.pushByte(192+t):(i.pushByte(247+r),1===r?i.pushUint8(t):2===r?i.pushUint16(t):3===r?i.pushUint24(t):i.pushUint32(t)),e))n(i)}}}(t.map(t=>e(t))):function(e){let t="string"==typeof e?eU(e):e,r=e_(t.length);return{length:1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(e){1===t.length&&t[0]<128||(t.length<=55?e.pushByte(128+t.length):(e.pushByte(183+r),1===r?e.pushUint8(t.length):2===r?e.pushUint16(t.length):3===r?e.pushUint24(t.length):e.pushUint32(t.length))),e.pushBytes(t)}}}(t)}(e),i=function(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(eV);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}(new Uint8Array(r.length));return(r.encode(i),"hex"===t)?eb(i.bytes):i.bytes}function e_(e){if(e<256)return 1;if(e<65536)return 2;if(e<16777216)return 3;if(e<4294967296)return 4;throw new ei("Length is too large.")}class eq extends ei{constructor({chainId:e}){super("number"==typeof e?`Chain ID "${e}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}let eW={ether:-9,wei:9};function eZ(e,t="wei"){return function(e,t){let r=e.toString(),i=r.startsWith("-");i&&(r=r.slice(1));let[n,s]=[(r=r.padStart(t,"0")).slice(0,r.length-t),r.slice(r.length-t)];return s=s.replace(/(0+)$/,""),`${i?"-":""}${n||"0"}${s?`.${s}`:""}`}(e,eW[t])}class eJ extends ei{constructor({cause:e,message:t}={}){let r=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(eJ,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(eJ,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class eX extends ei{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${eZ(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(eX,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class eQ extends ei{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${eZ(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(eQ,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class eY extends ei{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(eY,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class e0 extends ei{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.
Try increasing the nonce or find the latest nonce with \`getTransactionCount\`.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(e0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class e2 extends ei{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(e2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class e1 extends ei{constructor({cause:e}={}){super("The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account.",{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(e1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class e3 extends ei{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(e3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class e8 extends ei{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(e8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class e5 extends ei{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(e5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class e6 extends ei{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super(`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${eZ(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${eZ(r)} gwei`:""}).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}function e4(e){if(!e||0===e.length)return[];let t=[];for(let r=0;r<e.length;r++){let{address:i,storageKeys:n}=e[r];for(let e=0;e<n.length;e++)if(n[e].length-2!=64)throw new eB({storageKey:n[e]});if(!eP(i))throw new ex({address:i});t.push([i,n])}return t}function e7(e,t){let r=function(e){if(e.type)return e.type;if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new ek({transaction:e})}(e);return"eip1559"===r?function(e,t){let{chainId:r,gas:i,nonce:n,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:u,accessList:l,data:h}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:i,maxFeePerGas:n,to:s}=e;if(t<=0)throw new eq({chainId:t});if(s&&!eP(s))throw new ex({address:s});if(i)throw new ei("`gasPrice` is not a valid EIP-1559 Transaction attribute.");if(n&&n>2n**256n-1n)throw new eX({maxFeePerGas:n});if(r&&n&&r>n)throw new e6({maxFeePerGas:n,maxPriorityFeePerGas:r})}(e);let c=e4(l),d=[ey(r),n?ey(n):"0x",u?ey(u):"0x",a?ey(a):"0x",i?ey(i):"0x",s??"0x",o?ey(o):"0x",h??"0x",c];if(t){let e=0n===t.v?"0x":1n===t.v?ey(1):27n===t.v?"0x":ey(1);d.push(e,eF(t.r),eF(t.s))}return eC(["0x02",eG(d)])}(e,t):"eip2930"===r?function(e,t){let{chainId:r,gas:i,data:n,nonce:s,to:o,value:a,accessList:u,gasPrice:l}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:i,maxFeePerGas:n,to:s}=e;if(t<=0)throw new eq({chainId:t});if(s&&!eP(s))throw new ex({address:s});if(r||n)throw new ei("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(i&&i>2n**256n-1n)throw new eX({maxFeePerGas:i})}(e);let h=e4(u),c=[ey(r),s?ey(s):"0x",l?ey(l):"0x",i?ey(i):"0x",o??"0x",a?ey(a):"0x",n??"0x",h];if(t){let e=0n===t.v?"0x":1n===t.v?ey(1):27n===t.v?"0x":ey(1);c.push(e,eF(t.r),eF(t.s))}return eC(["0x01",eG(c)])}(e,t):function(e,t){let{chainId:r=0,gas:i,data:n,nonce:s,to:o,value:a,gasPrice:u}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:i,maxFeePerGas:n,to:s,accessList:o}=e;if(s&&!eP(s))throw new ex({address:s});if(void 0!==t&&t<=0)throw new eq({chainId:t});if(r||n)throw new ei("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(i&&i>2n**256n-1n)throw new eX({maxFeePerGas:i});if(o)throw new ei("`accessList` is not a valid Legacy Transaction attribute.")}(e);let l=[s?ey(s):"0x",u?ey(u):"0x",i?ey(i):"0x",o??"0x",a?ey(a):"0x",n??"0x"];return t?l=[...l,ey((()=>{if(r>0)return BigInt(2*r)+BigInt(35n+t.v-27n);if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n);let e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new eM({v:t.v});return e})()),t.r,t.s]:r>0&&(l=[...l,ey(r),"0x","0x"]),eG(l)}(e,t)}async function e9({privateKey:e,transaction:t,serializer:r=e7}){let i=await eT({hash:ez(r(t)),privateKey:e});return r(t,i)}Object.defineProperty(e6,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class te extends ei{constructor({expectedLength:e,givenLength:t,type:r}){super(`ABI encoding array length mismatch for type ${r}.
Expected length: ${e}
Given length: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class tt extends ei{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${ec(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class tr extends ei{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding params/values length mismatch.
Expected length (params): ${e}
Given length (values): ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class ti extends ei{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class tn extends ei{constructor(e,{docsPath:t}){super(`Type "${e}" is not a valid encoding type.
Please provide a valid ABI type.`,{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class ts extends ei{constructor(e){super(`Value "${e}" is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}function to(e,t){if("number"==typeof t&&t>0&&t>ec(e)-1)throw new eo({offset:t,position:"start",size:ec(e)})}function ta(e,t,r){if("number"==typeof t&&"number"==typeof r&&ec(e)!==r-t)throw new eo({offset:r,position:"end",size:ec(e)})}function tu(e,t){if(e.length!==t.length)throw new tr({expectedLength:e.length,givenLength:t.length});let r=tl(function({params:e,values:t}){let r=[];for(let i=0;i<e.length;i++)r.push(function e({param:t,value:r}){let i=function(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}(t.type);if(i){let[n,s]=i;return function(t,{length:r,param:i}){let n=null===r;if(!Array.isArray(t))throw new ts(t);if(!n&&t.length!==r)throw new te({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let s=!1,o=[];for(let r=0;r<t.length;r++){let n=e({param:i,value:t[r]});n.dynamic&&(s=!0),o.push(n)}if(n||s){let e=tl(o);if(n){let t=em(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?eR([t,e]):t}}if(s)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:eR(o.map(({encoded:e})=>e))}}(r,{length:n,param:{...t,type:s}})}if("tuple"===t.type)return function(t,{param:r}){let i=!1,n=[];for(let s=0;s<r.components.length;s++){let o=r.components[s],a=Array.isArray(t)?s:o.name,u=e({param:o,value:t[a]});n.push(u),u.dynamic&&(i=!0)}return{dynamic:i,encoded:i?tl(n):eR(n.map(({encoded:e})=>e))}}(r,{param:t});if("address"===t.type)return function(e){if(!eP(e))throw new ex({address:e});return{dynamic:!1,encoded:el(e.toLowerCase())}}(r);if("bool"===t.type)return{dynamic:!1,encoded:el(eg(r))};if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,{signed:t}){return{dynamic:!1,encoded:em(e,{size:32,signed:t})}}(r,{signed:t.type.startsWith("int")});if(t.type.startsWith("bytes"))return function(e,{param:t}){let[,r]=t.type.split("bytes"),i=ec(e);if(!r){let t=e;return i%32!=0&&(t=el(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:eR([el(em(i,{size:32})),t])}}if(i!==parseInt(r))throw new tt({expectedSize:parseInt(r),value:e});return{dynamic:!1,encoded:el(e,{dir:"right"})}}(r,{param:t});if("string"===t.type)return function(e){let t=ev(e),r=Math.ceil(ec(t)/32),i=[];for(let e=0;e<r;e++)i.push(el(function(e,t,r,{strict:i}={}){return eh(e,{strict:!1})?function(e,t,r,{strict:i}={}){to(e,t);let n=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return i&&ta(n,t,r),n}(e,t,r,{strict:i}):function(e,t,r,{strict:i}={}){to(e,t);let n=e.slice(t,r);return i&&ta(n,t,r),n}(e,t,r,{strict:i})}(t,32*e,(e+1)*32),{dir:"right"}));return{dynamic:!0,encoded:eR([el(em(ec(t),{size:32})),...i])}}(r);throw new tn(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}({param:e[i],value:t[i]}));return r}({params:e,values:t}));return 0===r.length?"0x":r}function tl(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:i,encoded:n}=e[r];i?t+=32:t+=ec(n)}let r=[],i=[],n=0;for(let s=0;s<e.length;s++){let{dynamic:o,encoded:a}=e[s];o?(r.push(em(t+n,{size:32})),i.push(a),n+=ec(a)):r.push(a)}return eR([...r,...i])}let th=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,tc=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function td({data:e,primaryType:t,types:r}){return ez(function e({data:t,primaryType:r,types:i}){let n=[{type:"bytes32"}],s=[function({primaryType:e,types:t}){return ez(ey(function({primaryType:e,types:t}){let r="",i=function e({primaryType:t,types:r},i=new Set){let n=t.match(/^\w*/u),s=n?.[0];if(i.has(s)||void 0===r[s])return i;for(let t of(i.add(s),r[s]))e({primaryType:t.type,types:r},i);return i}({primaryType:e,types:t});for(let n of(i.delete(e),[e,...Array.from(i).sort()]))r+=`${n}(${t[n].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`;return r}({primaryType:e,types:t})))}({primaryType:r,types:i})];for(let o of i[r]){let[r,a]=function t({types:r,name:i,type:n,value:s}){if(void 0!==r[n])return[{type:"bytes32"},ez(e({data:s,primaryType:n,types:r}))];if("bytes"===n){let e=s.length%2?"0":"";return[{type:"bytes32"},ez(s=`0x${e+s.slice(2)}`)]}if("string"===n)return[{type:"bytes32"},ez(ey(s))];if(n.lastIndexOf("]")===n.length-1){let e=n.slice(0,n.lastIndexOf("[")),o=s.map(n=>t({name:i,type:e,types:r,value:n}));return[{type:"bytes32"},ez(tu(o.map(([e])=>e),o.map(([,e])=>e)))]}return[{type:n},s]}({types:i,name:o.name,type:o.type,value:t[o.name]});n.push(r),s.push(a)}return tu(n,s)}({data:e,primaryType:t,types:r}))}async function tp(e){let{privateKey:t,...r}=e;return eS(await eT({hash:function(e){let{domain:t={},message:r,primaryType:i}=e,n={EIP712Domain:function({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},"number"==typeof e?.chainId&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}({domain:t}),...e.types};!function(e){let{domain:t,message:r,primaryType:i,types:n}=e,s=(e,t)=>{for(let r of e){let{name:e,type:i}=r,o=t[e],a=i.match(tc);if(a&&("number"==typeof o||"bigint"==typeof o)){let[e,t,r]=a;em(o,{signed:"int"===t,size:parseInt(r)/8})}if("address"===i&&"string"==typeof o&&!eP(o))throw new ex({address:o});let u=i.match(th);if(u){let[e,t]=u;if(t&&ec(o)!==parseInt(t))throw new ti({expectedSize:parseInt(t),givenSize:ec(o)})}let l=n[i];l&&s(l,o)}};n.EIP712Domain&&t&&s(n.EIP712Domain,t),"EIP712Domain"!==i&&s(n[i],r)}({domain:t,message:r,primaryType:i,types:n});let s=["0x1901"];return t&&s.push(function({domain:e,types:t}){return td({data:e,primaryType:"EIP712Domain",types:t})}({domain:t,types:n})),"EIP712Domain"!==i&&s.push(td({data:r,primaryType:i,types:n})),ez(eR(s))}(r),privateKey:t}))}process.env.FARCASTER_DEVELOPER_MNEMONIC&&process.env.FARCASTER_DEVELOPER_FID||console.warn("define the FARCASTER_DEVELOPER_MNEMONIC and FARCASTER_DEVELOPER_FID environment variables");let tf={name:"Farcaster SignedKeyRequestValidator",version:"1",chainId:10,verifyingContract:"0x00000000fc700472606ed4fa22623acf62c60553"},ty=[{name:"requestFid",type:"uint256"},{name:"key",type:"bytes"},{name:"deadline",type:"uint256"}];async function tg(e,t){try{let{publicKey:t}=await e.json(),r=process.env.FARCASTER_DEVELOPER_FID,i=function(e,t={}){let r=function(e,t=""){return function(e,t,r,i){var n;let s;let{c:o,dkLen:a,DK:h,PRF:d,PRFSalt:p}=function(e,t,r,i){(0,u.vp)(e);let{c:n,dkLen:s,asyncTick:o}=(0,l.U5)({dkLen:32,asyncTick:10},i);if((0,u.Rx)(n),(0,u.Rx)(s),(0,u.Rx)(o),n<1)throw Error("PBKDF2: iterations (c) should be >= 1");let a=(0,l.O0)(t),h=(0,l.O0)(r),d=new Uint8Array(s),p=c.create(e,a),f=p._cloneInto().update(h);return{c:n,dkLen:s,asyncTick:o,DK:d,PRF:p,PRFSalt:f}}(e,t,r,i),f=new Uint8Array(4),y=(0,l.GL)(f),g=new Uint8Array(d.outputLen);for(let e=1,t=0;t<a;e++,t+=d.outputLen){let r=h.subarray(t,t+d.outputLen);y.setInt32(0,e,!1),(s=p._cloneInto(s)).update(f).digestInto(g),r.set(g.subarray(0,r.length));for(let e=1;e<o;e++){d._cloneInto(s).update(g).digestInto(g);for(let e=0;e<r.length;e++)r[e]^=g[e]}}return n=s,d.destroy(),p.destroy(),n&&n.destroy(),g.fill(0),h}(T.o,function(e){let t=ee(e),r=t.split(" ");if(![12,15,18,21,24].includes(r.length))throw Error("Invalid mnemonic");return{nfkd:t,words:r}}(e).nfkd,et(t),{c:2048,dkLen:64})}(e);return function(e,{accountIndex:t=0,addressIndex:r=0,changeIndex:i=0,path:n}={}){let s=e.derive(n||`m/44'/60'/${t}'/${i}/${r}`);return{...function(e){let t=ey(L.secp256k1.getPublicKey(e.slice(2),!1));return{...function(e){if("string"==typeof e){if(!eP(e))throw new ex({address:e});return{address:e,type:"json-rpc"}}if(!eP(e.address))throw new ex({address:e.address});return{address:e.address,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}({address:function(e){let t=ez(`0x${e.substring(4)}`).substring(26);return function(e,t){let r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),i=ez(eK(r),"bytes"),n=(t?r.substring(`${t}0x`.length):r).split("");for(let e=0;e<40;e+=2)i[e>>1]>>4>=8&&n[e]&&(n[e]=n[e].toUpperCase()),(15&i[e>>1])>=8&&n[e+1]&&(n[e+1]=n[e+1].toUpperCase());return`0x${n.join("")}`}(`0x${t}`)}(t),signMessage:async({message:t})=>eL({message:t,privateKey:e}),signTransaction:async(t,{serializer:r}={})=>e9({privateKey:e,transaction:t,serializer:r}),signTypedData:async t=>tp({...t,privateKey:e})}),publicKey:t,source:"privateKey"}}(ey(s.privateKey)),getHdKey:()=>s,source:"hd"}}(Y.fromMasterSeed(r),t)}(process.env.FARCASTER_DEVELOPER_MNEMONIC),n=Math.floor(Date.now()/1e3)+86400,s=await i.signTypedData({domain:tf,types:{SignedKeyRequest:ty},primaryType:"SignedKeyRequest",message:{requestFid:BigInt(r),key:t,deadline:BigInt(n)}});return Response.json({signature:s,requestFid:parseInt(r),deadline:n,requestSigner:i.address})}catch(e){return console.error(e),a.Z.error()}}let tb=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/debug/signer/route",pathname:"/debug/signer",filename:"route",bundlePath:"app/debug/signer/route"},resolvedPagePath:"/Users/richcl/projects/frames-maths/app/debug/signer/route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:tm,staticGenerationAsyncStorage:tw,serverHooks:tv,headerHooks:tx,staticGenerationBailout:tE}=tb,tP="/debug/signer/route";function t$(){return(0,o.patchFetch)({serverHooks:tv,staticGenerationAsyncStorage:tw})}},26087:(e,t,r)=>{Object.defineProperty(t,"Z",{enumerable:!0,get:function(){return i.NextResponse}});let i=r(88228)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[722,228,990],()=>r(71321));module.exports=i})();